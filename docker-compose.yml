version: '2'

services:
  config:
    image: gurv/vg-config:latest
    container_name: vg_config
    restart: always

  discovery:
    image: gurv/vg-discovery:latest
    container_name: vg_discovery
    restart: always
    ports:
      - 8761:8761

  gateway:
    image: gurv/vg-gateway:latest
    container_name: vg_gateway
    restart: always
    ports:
     - 10000:10000

  database-data:
    image: gurv/vg-database-data:latest
    container_name: vg_database_data
    volumes:
      - c:/prj/vg/database/.db:/db

  database-server:
    image: gurv/vg-database-server:latest
    container_name: vg_database_server
    volumes_from:
      - database-data

  auth:
    image: gurv/vg-auth:latest
    container_name: vg_auth
    restart: always

  account:
    image: gurv/vg-account:latest
    container_name: vg_account
    restart: always

  metadata:
    image: gurv/vg-metadata:latest
    container_name: vg_metadata
    restart: always

  web:
    image: gurv/vg-web:latest
    container_name: vg_web
    ports:
      - 8080:80
