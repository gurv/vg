dependencies {
    extJar module("org.springframework.cloud:spring-cloud-dataflow-shell") {
        transitive = false
    }
}

run {
    standardInput = System.in
    jvmArgs "-jar",  "$buildDir/libs/spring-cloud-dataflow-shell-${rootProject.springCloudDataflowVersion}.jar"
}
run.dependsOn build

docker {
    buildArgs([VG_VERSION: version])
}

// Если на Windows 10 выполняется docker run -it , то ошибка: the input device is not a TTY.  If you are using mintty, try prefixing the command with 'winpty'
// Workaround: из cmd или терминала IDEA выполнить:
// docker run -it -e --rm gurv/vg-dataflow-shell:latest dataflow-shell
tasks['dockerRun'].enabled = false